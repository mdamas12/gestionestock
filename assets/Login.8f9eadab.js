import{Q as i}from"./scroll.78a5b6fd.js";import{a as p,Q as m}from"./QCard.a043643f.js";import{_ as f,J as c,K as g,L as s,f as a,S as w,R as d}from"./index.c77837c0.js";import{Q}from"./QForm.c26b1806.js";import{Q as y}from"./QPage.e94278a4.js";import{a as _,b}from"./QLayout.edfb7dcd.js";import{api as h}from"./axios.cab0eb59.js";const x={name:"Login",data(){return{email:"",password:""}},methods:{async login(){var l,e;try{const n=(await h.post("/api/auth/login",{email:this.email,password:this.password})).data.access_token;localStorage.setItem("authToken",n),this.$router.push("/")}catch(r){this.$q.notify({type:"negative",message:((e=(l=r.response)==null?void 0:l.data)==null?void 0:e.message)||"Error al iniciar sesi\xF3n"})}},onForgotPassword(){this.$router.push("/forgot-password"),console.log("Recuperar contrase\xF1a")}}};function V(l,e,r,n,t,u){return c(),g(_,{view:"hHh lpR fFf"},{default:s(()=>[a(b,null,{default:s(()=>[a(y,{class:"login-page q-pa-md flex flex-center"},{default:s(()=>[a(p,{style:{width:"400px"}},{default:s(()=>[a(i,null,{default:s(()=>e[3]||(e[3]=[w("div",{class:"text-h6"},"Iniciar Sesi\xF3n",-1)])),_:1}),a(i,null,{default:s(()=>[a(Q,{onSubmit:u.login},{default:s(()=>[a(m,{modelValue:t.email,"onUpdate:modelValue":e[0]||(e[0]=o=>t.email=o),label:"Email",type:"email",rules:[o=>!!o||"El email es obligatorio"],outlined:""},null,8,["modelValue","rules"]),a(m,{modelValue:t.password,"onUpdate:modelValue":e[1]||(e[1]=o=>t.password=o),label:"Contrase\xF1a",type:"password",rules:[o=>!!o||"La contrase\xF1a es obligatoria"],outlined:""},null,8,["modelValue","rules"]),a(d,{label:"Iniciar Sesi\xF3n",type:"submit",color:"primary",class:"q-mt-md full-width"})]),_:1},8,["onSubmit"])]),_:1}),a(i,null,{default:s(()=>[a(d,{flat:"",label:"\xBFOlvidaste tu contrase\xF1a?",color:"primary",onClick:e[2]||(e[2]=o=>u.onForgotPassword())})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}var I=f(x,[["render",V]]);export{I as default};
